<script setup>
import { useThemeStore } from "~/store/themeNew"

const theme = useThemeStore()
</script>

<template>
  <div class="menu">
    <nuxt-link exact  to="/" class="menu-item" exact-active-class="menu-item_active">
      <span>Кейсы</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/shop" class="menu-item" active-class="menu-item_active">
      <span>Магазин</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/" class="menu-item" active-class="menu-item_active">
      <span>Тайник</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/" class="menu-item" active-class="menu-item_active">
      <span>Возвышение</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/" class="menu-item" active-class="menu-item_active">
      <span>Крафт</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/" class="menu-item" active-class="menu-item_active">
      <span>Plinco</span>
      <div class="menu-item_border"></div>
    </nuxt-link>
    <nuxt-link  to="/reviews" class="menu-item" active-class="menu-item_active">
      <span>Отзывы</span>
      <div class="menu-item_border"></div>
    </nuxt-link>


    <div class="theme" v-on:click="theme.toggleTheme">
      <div :class="'theme-active ' + (theme.darkTheme? 'theme-active_dark':'')"></div>
      <div class="theme-item">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.8823 9.48774C13.8287 9.43435 13.7612 9.39722 13.6874 9.38066C13.6137 9.36409 13.5367 9.36877 13.4655 9.39415C12.5085 9.73534 11.4744 9.79799 10.4833 9.57482C9.49212 9.35165 8.58464 8.85182 7.86627 8.1334C7.1479 7.41499 6.64812 6.50748 6.42501 5.51632C6.2019 4.52516 6.2646 3.49104 6.60585 2.5341C6.63121 2.46288 6.63586 2.38593 6.61926 2.31217C6.60267 2.23841 6.56551 2.17087 6.51209 2.11737C6.45868 2.06387 6.39119 2.0266 6.31746 2.00989C6.24373 1.99318 6.16677 1.99771 6.09551 2.02296C5.23276 2.32762 4.44982 2.82292 3.80495 3.472C2.64893 4.6289 1.99969 6.19756 2 7.83304C2.00031 9.46852 2.65014 11.0369 3.8066 12.1934C4.96307 13.3499 6.53148 13.9997 8.16696 14C9.80245 14.0003 11.3711 13.3511 12.528 12.195C13.1771 11.5501 13.6724 10.767 13.977 9.9041C14.0022 9.83283 14.0066 9.7559 13.9899 9.68221C13.9731 9.60852 13.9358 9.5411 13.8823 9.48774Z" fill="black" :fill-opacity="theme.darkTheme ? '1':'0.25'"/>
        </svg>
      </div>
      <div class="theme-item">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 12C7.20888 12 6.43552 11.7654 5.77772 11.3259C5.11992 10.8864 4.60723 10.2616 4.30448 9.53074C4.00173 8.79983 3.92252 7.99556 4.07686 7.21964C4.2312 6.44372 4.61216 5.73098 5.17157 5.17157C5.73098 4.61216 6.44372 4.2312 7.21964 4.07686C7.99556 3.92252 8.79983 4.00173 9.53074 4.30448C10.2616 4.60723 10.8864 5.11992 11.3259 5.77772C11.7654 6.43552 12 7.20888 12 8C12 9.06087 11.5786 10.0783 10.8284 10.8284C10.0783 11.5786 9.06087 12 8 12ZM8 5.33334C7.47259 5.33334 6.95701 5.48973 6.51848 5.78275C6.07995 6.07577 5.73816 6.49224 5.53632 6.97951C5.33449 7.46678 5.28168 8.00296 5.38457 8.52024C5.48747 9.03753 5.74144 9.51268 6.11438 9.88562C6.48732 10.2586 6.96248 10.5125 7.47976 10.6154C7.99704 10.7183 8.53322 10.6655 9.02049 10.4637C9.50776 10.2618 9.92424 9.92005 10.2173 9.48152C10.5103 9.04299 10.6667 8.52742 10.6667 8C10.6667 7.29276 10.3857 6.61448 9.88562 6.11438C9.38552 5.61429 8.70725 5.33334 8 5.33334Z" fill="white" :fill-opacity="theme.darkTheme ? '0.25':'1'"/>
          <path d="M7.99992 10C7.82311 10 7.65354 9.92976 7.52851 9.80473C7.40349 9.67971 7.33325 9.51014 7.33325 9.33333V6.66666C7.33325 6.48985 7.40349 6.32028 7.52851 6.19526C7.65354 6.07023 7.82311 6 7.99992 6C8.53035 6 9.03906 6.21071 9.41413 6.58578C9.78921 6.96085 9.99992 7.46956 9.99992 8C9.99992 8.53043 9.78921 9.03914 9.41413 9.41421C9.03906 9.78928 8.53035 10 7.99992 10ZM7.99992 3.33333C7.82311 3.33333 7.65354 3.26309 7.52851 3.13807C7.40349 3.01304 7.33325 2.84347 7.33325 2.66666V1.99999C7.33325 1.82318 7.40349 1.65361 7.52851 1.52859C7.65354 1.40357 7.82311 1.33333 7.99992 1.33333C8.17673 1.33333 8.3463 1.40357 8.47132 1.52859C8.59635 1.65361 8.66659 1.82318 8.66659 1.99999V2.66666C8.66659 2.84347 8.59635 3.01304 8.47132 3.13807C8.3463 3.26309 8.17673 3.33333 7.99992 3.33333ZM11.7733 4.89333C11.6076 4.88583 11.4508 4.8169 11.3333 4.7C11.2091 4.57509 11.1394 4.40612 11.1394 4.22999C11.1394 4.05387 11.2091 3.8849 11.3333 3.75999L11.8066 3.28666C11.8664 3.21687 11.9399 3.16019 12.0226 3.12018C12.1053 3.08016 12.1954 3.05768 12.2872 3.05413C12.379 3.05058 12.4706 3.06605 12.5561 3.09957C12.6417 3.13309 12.7194 3.18392 12.7844 3.24889C12.8493 3.31386 12.9002 3.39156 12.9337 3.47711C12.9672 3.56266 12.9827 3.65422 12.9791 3.74603C12.9756 3.83784 12.9531 3.92793 12.9131 4.01064C12.8731 4.09335 12.8164 4.1669 12.7466 4.22666L12.2733 4.7C12.2078 4.76507 12.1296 4.81585 12.0435 4.84913C11.9575 4.88241 11.8654 4.89746 11.7733 4.89333ZM13.9999 8.66666H13.3333C13.1564 8.66666 12.9869 8.59642 12.8618 8.4714C12.7368 8.34638 12.6666 8.17681 12.6666 8C12.6666 7.82318 12.7368 7.65361 12.8618 7.52859C12.9869 7.40357 13.1564 7.33333 13.3333 7.33333H13.9999C14.1767 7.33333 14.3463 7.40357 14.4713 7.52859C14.5963 7.65361 14.6666 7.82318 14.6666 8C14.6666 8.17681 14.5963 8.34638 14.4713 8.4714C14.3463 8.59642 14.1767 8.66666 13.9999 8.66666ZM12.2399 12.9067C12.065 12.9059 11.8974 12.8365 11.7733 12.7133L11.3333 12.24C11.2628 12.1133 11.2355 11.9672 11.2556 11.8236C11.2757 11.6801 11.342 11.547 11.4445 11.4445C11.5469 11.342 11.68 11.2758 11.8236 11.2557C11.9671 11.2356 12.1133 11.2629 12.2399 11.3333L12.7133 11.8067C12.8374 11.9316 12.9071 12.1005 12.9071 12.2767C12.9071 12.4528 12.8374 12.6218 12.7133 12.7467C12.5822 12.8593 12.4125 12.9167 12.2399 12.9067ZM7.99992 14.6667C7.82311 14.6667 7.65354 14.5964 7.52851 14.4714C7.40349 14.3464 7.33325 14.1768 7.33325 14V13.3333C7.33325 13.1565 7.40349 12.9869 7.52851 12.8619C7.65354 12.7369 7.82311 12.6667 7.99992 12.6667C8.17673 12.6667 8.3463 12.7369 8.47132 12.8619C8.59635 12.9869 8.66659 13.1565 8.66659 13.3333V14C8.66659 14.1768 8.59635 14.3464 8.47132 14.4714C8.3463 14.5964 8.17673 14.6667 7.99992 14.6667ZM3.75992 12.9067C3.67218 12.9072 3.58521 12.8904 3.50398 12.8572C3.42276 12.824 3.34888 12.7751 3.28659 12.7133C3.16242 12.5884 3.09272 12.4195 3.09272 12.2433C3.09272 12.0672 3.16242 11.8982 3.28659 11.7733L3.75992 11.3333C3.88745 11.2241 4.0515 11.167 4.21929 11.1735C4.38707 11.18 4.54623 11.2496 4.66496 11.3683C4.78369 11.487 4.85325 11.6462 4.85973 11.814C4.86621 11.9817 4.80914 12.1458 4.69992 12.2733L4.22659 12.7467C4.09721 12.8577 3.93021 12.915 3.75992 12.9067ZM2.66659 8.66666H1.99992C1.82311 8.66666 1.65354 8.59642 1.52851 8.4714C1.40349 8.34638 1.33325 8.17681 1.33325 8C1.33325 7.82318 1.40349 7.65361 1.52851 7.52859C1.65354 7.40357 1.82311 7.33333 1.99992 7.33333H2.66659C2.8434 7.33333 3.01297 7.40357 3.13799 7.52859C3.26301 7.65361 3.33325 7.82318 3.33325 8C3.33325 8.17681 3.26301 8.34638 3.13799 8.4714C3.01297 8.59642 2.8434 8.66666 2.66659 8.66666ZM4.22659 4.89333C4.05169 4.89259 3.88409 4.82316 3.75992 4.7L3.28659 4.22666C3.17737 4.09913 3.1203 3.93508 3.12678 3.76729C3.13326 3.59951 3.20281 3.44035 3.32154 3.32162C3.44027 3.20289 3.59943 3.13333 3.76722 3.12685C3.935 3.12037 4.09905 3.17744 4.22659 3.28666L4.69992 3.75999C4.82409 3.8849 4.89378 4.05387 4.89378 4.22999C4.89378 4.40612 4.82409 4.57509 4.69992 4.7C4.63763 4.76178 4.56375 4.81067 4.48252 4.84384C4.4013 4.87702 4.31432 4.89384 4.22659 4.89333Z" fill="white" :fill-opacity="theme.darkTheme ? '0.25':'1'"/>
        </svg>
      </div>
    </div>
  </div>

</template>

<script>
export default {
  name: "header-menu",
  data() {
      return {
          activeMenu: false,
      }
  },
}
</script>

<style lang="scss" scoped>
@import '../../public/colors';

.menu {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 20px;
  box-sizing: border-box;
  padding: 0;
  & a {
    text-decoration: none;
    color: var(--button-background);
  }
  &-top {
    display: flex;
    &_title {
      display: flex;
      font-size: 28px;
      font-weight: 700;
      margin: 5px 10px;
      color: var(--button-background)
    }
  }
  &-item {
    display: flex;
    position: relative;
    width: 100%;
    justify-content: flex-start;
    align-items: flex-start;
    box-sizing: border-box;
    padding: 5px 15px;
    & span {
      display: flex;
      position: relative;
      height: 100%;
      justify-content: center;
      align-items: center;
      font-size: 18px;
      font-weight: 500;
      opacity: 0.4;
      transition: 0.3s;
    }
    &_active .menu-item_border {
      opacity: 1;
    }
    &_active span {
      opacity: 1;
    }
    &:hover > .menu-item_border {
      opacity: 1;
    }
    &_border {
      display: flex;
      position: absolute;
      right: 0;
      bottom: -1px;
      width: 4px;
      height: 100%;
      opacity: 0;
      transition: 0.2s;
      background: var(--button-background);
      &__active {
        opacity: 1;
      }
    }
  }
}


.theme {
  display: flex;
  position: absolute;
  bottom: 6vh;
  left: 50%;
  transform: translateX(-50%);
  justify-content: space-evenly;
  width: 80px;
  height: 32px;
  border-radius: 50px;
  background: var(--theme-background);
  cursor: pointer;
  transition: 0.3s;
  &-active {
    position: absolute;
    right: 2px;
    top: 2px;
    background: var(--theme-active-background);
    width: 40px;
    height: 28px;
    border-radius: 50px;
    transition: 0.3s;
    &_dark {
      transform: translateX(-35px);
    }
  }
  &-item {
    display: flex;
    width: 28px;
    height: 32px;
    justify-content: center;
    align-items: center;
    z-index: 3;
  }
}
</style>
